@inherits LayoutComponentBase
@using SmartWattsUi.Pages.User

@inject AppState _appState;


<div class="main">
	<div class="nav-bar">
		<NavMenu />
	</div>
	<hr />
	<div class="content px-4">
		@Body
	</div>
</div>

@if (_appState.Loading)
{
	<div class="loader">
		<h1 class="loading-text">@_appState.LoadingText . . .</h1>
	</div>
}



@code
{

	protected override void OnInitialized()
	{
		_appState.OnChange += StateHasChanged;
	}

}


<style>
	.nav-bar {
		position: fixed;
		top: 0;
		width: 100%;
		height: 7%;
		background: lightblue;
		z-index: 2;
	}

	.content {
		padding-top: 50px;
	}

	.loader {
		position: fixed;
		top: 0px;
		left: 0px;
		width: 100%;
		height: 100%;
		z-index: 5;
		background-color: rgba(0, 0, 0, 0.8);
	}

	.loader h1 {
		position: relative;
		left: 30%;
		top: 20%;
		z-index: 6;
	}

</style>

